<?php include 'header.php'; ?>
<link href="style.css" rel="stylesheet" type="text/css" />

<h2>Detalles del Producto</h2>

<?php
// Verificar si se ha proporcionado un ID de producto en la URL
if (isset($_GET['id'])) {
    // Convertir el ID a un número entero para evitar inyecciones SQL
    $id = (int)$_GET['id'];

    // Preparar la consulta SQL para seleccionar el producto con el ID especificado
    $sql = "SELECT * FROM products WHERE id = :id";
    $stmt = $pdo->prepare($sql);

    // Ejecutar la consulta pasando el ID del producto
    $stmt->execute(['id' => $id]);

    // Obtener los datos del producto como un array asociativo
    $product = $stmt->fetch(PDO::FETCH_ASSOC);

    // Verificar si el producto existe
    if ($product) {
        // Mostrar los detalles del producto
        echo "<h3>" . htmlspecialchars($product['name']) . "</h3>";
        echo "<p>Descripción: " . htmlspecialchars($product['description']) . "</p>";
        echo "<p>Precio: $" . htmlspecialchars($product['price']) . "</p>";
    } else {
        // Mensaje si el producto no se encuentra
        echo "<p>Producto no encontrado.</p>";
    }
} else {
    // Mensaje si no se especifica un ID de producto en la URL
    echo "<p>ID de producto no especificado.</p>";
}
?>

<?php include 'footer.php'; ?>
